import{A}from"./business-BrTkWtTt.js";import I from"./Tabs-yU-ZCTor.js";import{_ as u,c as y,e as g}from"./BaseForm-Dcd7kL4r.js";import{b as S,j as B,L,N as E,r as a,c as r,o as t,n as w,d as m,F as P,y as R,a as v,t as j,H as G,E as p,g as h}from"./index-Ficy73Kv.js";/* empty css                                              */import N from"./BaseTable-yHBH8VeL.js";import"./CurrencyInput-qrvO-2Ib.js";import"./Modal-Y96M_f6M.js";import"./IconX-CIzaZ8qm.js";import"./ViewDetails-BvOTNm1I.js";import"./featureFlags-_CcJ_rqO.js";const T={key:0},C={class:"my-6 text-2xl text-identity-dark dark:text-gray-300 text-center"},F={__name:"MisActividades",setup(k){let s;const c=S(),{backendUrlFC:l}=B();L(()=>{s&&(s(),y())}),s=E(()=>g.data,async e=>{e&&e.actionSelected==="show_my_activities_table"&&(o(!1),f.value=e.estructura,_.value=await b(),o(!0),y())},{immediate:!1});const d=a(!1),o=e=>{d.value=e},f=a(null),_=a(null);async function b(){const e=new URL("api/list/ordenEtapasPorResponsable/"+f.value.id,l),i=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${c.token}`,"Content-Type":"application/json",Accept:"application/json"}}),n=await i.json();if(!i.ok)throw new G(n.message,i.status);return n}return(e,i)=>(t(),r("main",null,[w(u,{"type-form":"misActividades","icons-view":[],"action-selected":"my_activities"}),d.value?(t(),r("div",T,[(t(!0),r(P,null,R(_.value,(n,x)=>(t(),r("div",{key:x},[v("h2",C,j(n.show_data),1),w(N,{table:"actividadesResponsableOrdenEtapa","icons-view":[],"row-selected":n,"show-search":!1},null,8,["row-selected"])]))),128))])):m("",!0)]))}},K={__name:"Actividades",setup(k){const s=a(!1),c=a(["IconSettings","IconSurvey","IconDocumentCheck","IconUsers","IconDownload","IconList"]),l=a([{title:"Actividades Proyectos",icon:"IconList",component:p(F),props:{}},{title:"Actividades Generales Proyectos",icon:"IconSurvey",component:p(u),props:{"icons-view":[],"type-form":"actividadesGeneralesProyectos","row-selected":null}},{title:"Actividades Generales",icon:"IconSurvey",component:p(u),props:{"icons-view":[],"type-form":"actividadesGenerales","row-selected":null}}]);return(d,o)=>(t(),r("main",null,[s.value?(t(),h(A,{key:0})):m("",!0),o[0]||(o[0]=v("div",{class:"wrapper flex items-center justify-center mb-10"},[v("h1",{class:"text-2xl text-identity-dark dark:text-gray-300"},"Mis Actividades")],-1)),s.value?m("",!0):(t(),h(I,{key:1,tabs:l.value,icons:c.value},null,8,["tabs","icons"]))]))}};export{K as default};
