import{j as b,u as w,r as d,c as r,o as n,a as e,l as y,w as h,d as u,e as _,v as j,t as c,i as k,H as C}from"./index-Ficy73Kv.js";const E={class:"h-full flex justify-between border-blue-500"},M={class:"w-full md:w-3/4 wrapper flex items-center justify-center border-red-500"},T={class:"w-full flex-2/3 wrapper flex items-center justify-center border-yellow-500"},V={class:"w-full max-w-md p-8 rounded-xl shadow-md border border-solid border-color-identity"},S={class:"relative"},B={key:0,class:"flex items-center justify-center p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",role:"alert"},N={class:"font-medium"},P={key:1,class:"flex items-center justify-center p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg",role:"alert"},H={class:"font-medium"},L={class:"grid justify-items-center"},O={key:0,type:"button",class:"mb-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",disabled:""},R={key:1,type:"submit",class:"mb-2 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500"},U={__name:"ResetPassword",setup(D){const{backendUrlFC:m}=b(),f=w(),l=d(""),a=d(!1),o=d(""),i=d(""),g=async()=>{if(a.value=!0,o.value="",i.value="",!p(l.value)){o.value="Por favor, ingresa un correo electr칩nico v치lido",a.value=!1;return}try{const s=await fetch(`${m}/api/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.value})}),t=await s.json();if(!s.ok)throw new C(t.message,s.status);i.value=t.message}catch(s){o.value=s.message}finally{a.value=!1}},p=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),v=()=>{console.log("goToLogin"),f.push({name:"login"})};return(s,t)=>(n(),r("main",null,[e("div",E,[t[7]||(t[7]=e("div",{class:"w-0 md:w-1/3 wrapper flex items-center justify-center border-orange-500"},null,-1)),e("div",M,[e("div",T,[e("div",V,[t[3]||(t[3]=e("img",{alt:"Vue logo",class:"w-full h-28",src:y},null,-1)),t[4]||(t[4]=e("br",null,null,-1)),t[5]||(t[5]=e("h2",{class:"text-2xl font-bold text-center text-identity"},"Restablecer Contrase침a",-1)),t[6]||(t[6]=e("h6",{class:"font-semi-bold text-center text-identity"},"Ingresa tu correo para recibir instrucciones",-1)),e("form",{onSubmit:h(g,["prevent"]),class:"mt-8 space-y-6"},[e("div",S,[t[1]||(t[1]=e("label",{for:"email",class:"block text-sm font-medium text-identity"},"Email",-1)),_(e("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=x=>l.value=x),type:"email",required:"",autocomplete:"on",class:"text-gray-900 mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"},null,512),[[j,l.value]])]),o.value?(n(),r("div",B,[e("span",N,c(o.value),1)])):u("",!0),i.value?(n(),r("div",P,[e("span",H,c(i.value),1)])):u("",!0),e("div",L,[a.value?(n(),r("button",O,t[2]||(t[2]=[e("svg",{class:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})],-1),k(" Enviando... ",-1)]))):(n(),r("button",R," Enviar Instrucciones "))])],32),e("div",{class:"flex justify-center text-sm"},[e("button",{onClick:v,class:"font-medium text-orange-600 hover:text-orange-500"}," Volver al inicio de sesi칩n ")])])])])])]))}};export{U as default};
