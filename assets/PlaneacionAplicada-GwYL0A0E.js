import{u as z,A as G}from"./business-BrTkWtTt.js";import{u as L,k as F,q as V,r as t,x as q,m as y,c as J,o as u,g as b,d as x,a as o,p as i,t as f,z as K,h as Q}from"./index-Ficy73Kv.js";import U from"./Gantt-CgmovwIq.js";/* empty css                                              *//* empty css                                                              */const W={class:"flex flex-col items-center justify-center mb-10"},X={class:"text-1xl font-bold text-orange-800"},Y={class:"text-1xl font-bold text-orange-800"},Z={class:"flex justify-between"},be={__name:"PlaneacionAplicada",setup($){const O=L(),k=F(),{formatHours:ee,parseStringToIntHours:ae,getResponsables:oe,getOrdenTrabajo:_,getOrdenTrabajoSkipingNotAvailableDates:te,getOrdenEtapas:w,getOrdenEtapaTasks:se,getOrdenEtapasGeneralTasks:A,formatStringHours:ne,formatIntHours:re,getLaboralHoursPerDay:le,confirmSuggestedPlanning:ce}=z(),{iconsForm:T,loadFormIcons:I}=V(),h=t(["IconSave","IconBack"]),p=t(k.params.orden_id),d=t([]),s=t(null),D=t([]),m=t([]),g=t(!1),v=t([]);q(async()=>{g.value=!0,await I(h.value),await j(p.value),await S(p.value),await B(p.value),g.value=!1});const N=y(()=>{var e,a,n,r,l,c;return((n=(a=(e=s.value)==null?void 0:e.estructura_proyecto)==null?void 0:a.proyecto)==null?void 0:n.codigo)+" - "+((c=(l=(r=s.value)==null?void 0:r.estructura_proyecto)==null?void 0:l.proyecto)==null?void 0:c.nombre_proyecto)}),E=y(()=>{var e,a,n,r,l,c;return((a=(e=s.value)==null?void 0:e.estructura_proyecto)==null?void 0:a.codigo_estructura)+" - "+((r=(n=s.value)==null?void 0:n.estructura_proyecto)==null?void 0:r.tipo_estructura.nombre)+" - "+((c=(l=s.value)==null?void 0:l.estructura_proyecto)==null?void 0:c.tipo_cimentacion.nombre)}),j=async e=>{v.value=await w(e)},B=async e=>{d.value=await A(e),console.log("Applied Tasks: ",d.value)},S=async e=>{const a=await _(e);s.value=a.ordenTrabajo,console.log("Orden de Trabajo: ",s.value),C(a.responsablesOnOrderIncludingOwnNotAvailableDates),P(a.responsablesOnOrderExcludingOwnNotAvailableDates)},C=async e=>{D.value=e},P=async e=>{m.value=e},H=async e=>{},R=e=>{console.log("openAddTaskModal data",e)},M=()=>{O.go(-1)};return(e,a)=>(u(),J("main",null,[g.value?(u(),b(G,{key:0})):x("",!0),o("div",W,[a[0]||(a[0]=o("h1",{class:"text-2xl text-identity-dark dark:text-gray-300 mb-10"},"Gantt Planeación",-1)),o("div",{class:i(["flex flex-row items-center px-3 py-1 rounded-lg my-1",["bg-orange-100 border border-orange-600"]])},[o("h1",X,f(N.value),1)]),o("div",{class:i(["flex flex-row items-center px-3 py-1 rounded-lg my-1",["bg-orange-100 border border-orange-600"]])},[o("h1",Y,f(E.value),1)])]),o("div",Z,[o("button",{onClick:M,class:i(["bg-identity-dark hover:bg-gray-700 dark:bg-orange-600 dark:hover:bg-orange-800 mb-2","flex items-center px-4 py-2 text-sm text-identity capitalize transition-colors duration-200 border rounded-md gap-x-2 dark:text-gray-200 dark:border-gray-200"])},[(u(),b(K(Q(T).IconBack),{class:i(["w-5 h-5"])})),a[1]||(a[1]=o("span",null," Planeación ",-1))])]),a[2]||(a[2]=o("hr",null,null,-1)),o("div",null,[d.value.length>0?(u(),b(U,{key:0,tasks:d.value,"etapas-on-order":v.value,"responsables-on-order":m.value,"show-general-info-suggested-planning":!1,onApplyChanges:H,onOpenModal:R},null,8,["tasks","etapas-on-order","responsables-on-order"])):x("",!0)])]))}};export{be as default};
