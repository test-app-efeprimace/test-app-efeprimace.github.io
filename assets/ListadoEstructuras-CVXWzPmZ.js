import{u as h,k as _,s as S,j as M,r as a,x as C,N as B,m as j,c as N,o as n,a as e,g,d as x,n as i,p as d,t as z,h as A,A as c}from"./index-Ficy73Kv.js";import E from"./BaseTable-yHBH8VeL.js";import I from"./IconPlus-DMbSohNX.js";import L from"./Modal-Y96M_f6M.js";import{g as R,_ as T,e as V}from"./BaseForm-Dcd7kL4r.js";import $ from"./IconStructure-BZ1cect1.js";import"./business-BrTkWtTt.js";import"./ViewDetails-BvOTNm1I.js";import"./featureFlags-_CcJ_rqO.js";import"./IconX-CIzaZ8qm.js";/* empty css                                              */import"./CurrencyInput-qrvO-2Ib.js";const P={class:"flex flex-col items-center justify-center mb-10"},F={class:"text-1xl font-bold text-orange-800"},O={class:"flex justify-between py-1"},oe={__name:"ListadoEstructuras",setup(q){const f=h(),y=_(),{isMobile:v}=S(M()),s=a(!1),u=a("add_structure"),k=()=>{f.go(-1)},m={id:y.params.proyecto_id,object:"proyecto"},o=a(null),l=a({});C(()=>{o.value=m,R()}),B(()=>V.data,r=>{r&&r.actionSelected==="view_structures"&&(l.value=r.rowSelected)},{immediate:!1});const b=j(()=>l.value.codigo+" - "+l.value.nombre_proyecto),w=()=>{s.value=!0},p=()=>{s.value=!1,o.value=null,setTimeout(()=>{o.value=m},500)};return(r,t)=>(n(),N("main",null,[e("div",P,[t[1]||(t[1]=e("h1",{class:"text-2xl text-identity-dark dark:text-gray-300"},"Listado Estructuras",-1)),e("div",{class:d(["flex flex-row items-center px-3 py-1 rounded-lg my-2",["bg-orange-100 border border-orange-600"]])},[e("h1",F,z(b.value),1)])]),e("div",O,[e("button",{onClick:k,class:d(["bg-identity-dark hover:bg-gray-700 dark:bg-orange-600 dark:hover:bg-orange-800","flex items-center px-4 py-2 text-sm text-identity capitalize transition-colors duration-200 border rounded-md gap-x-2 dark:text-gray-200 dark:border-gray-200"])},t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 rtl:-scale-x-100"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),e("span",null," AtrÃ¡s ",-1)])),e("button",{onClick:t[0]||(t[0]=D=>w()),class:d(["bg-identity-dark hover:bg-gray-700 dark:bg-orange-600 dark:hover:bg-orange-800","flex items-center px-4 py-2 text-sm text-identity capitalize transition-colors duration-200 border rounded-md gap-x-2 dark:text-gray-200 dark:border-gray-200"])},[t[3]||(t[3]=e("span",null," Nueva Estructura ",-1)),i(I,{class:"w-5 h-5"})])]),o.value?(n(),g(E,{key:0,table:"estructuras","icons-view":A(v)?[]:["IconStructure"],"row-selected":o.value},null,8,["icons-view","row-selected"])):x("",!0),i(L,{"is-modal-open":s.value,onCloseModal:p,"max-height":"max-entity-height","max-width":"max-w-5xl"},{icon:c(()=>[i($,{class:"w-6 h-6 text-gray-800 dark:text-white"})]),title:c(()=>t[4]||(t[4]=[e("h3",{class:"text-lg font-medium leading-6 text-gray-800 capitalize dark:text-white",id:"modal-title"}," Agregar Estructura ",-1)])),content:c(()=>[u.value==="add_structure"?(n(),g(T,{key:0,"type-form":"estructura","action-selected":u.value,"row-selected":o.value,onCloseModal:p},null,8,["action-selected","row-selected"])):x("",!0)]),_:1},8,["is-modal-open"])]))}};export{oe as default};
