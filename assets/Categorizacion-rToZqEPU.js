import{_ as l}from"./BaseForm-Dcd7kL4r.js";import o from"./BaseTable-yHBH8VeL.js";import p from"./Tabs-yU-ZCTor.js";import{u as I,A as v}from"./business-BrTkWtTt.js";import{r as i,E as e,c as b,o as c,g as m,d as u,a as d,S as g}from"./index-Ficy73Kv.js";import"./CurrencyInput-qrvO-2Ib.js";import"./Modal-Y96M_f6M.js";import"./IconX-CIzaZ8qm.js";/* empty css                                              */import"./ViewDetails-BvOTNm1I.js";import"./featureFlags-_CcJ_rqO.js";const j={__name:"Categorizacion",setup(E){const f=i(["IconSettings","IconArrowRounded","IconDocumentCheck","IconUsers","IconDownload"]),{generateCategorizacionEmployees:w}=I(),a=i(!1),C=i([{title:"Generar",icon:"IconArrowRounded",component:e(l),props:{"icons-view":[],"type-form":"categorizacion","row-selected":null}},{title:"Resultados",icon:"IconDocumentCheck",component:e(p),props:{tabs:[{title:"Resultados Internos",icon:"IconResponse",component:e(o),props:{table:"resultadosCategorizacionInterna","icons-view":[],"show-search":!0}},{title:"Resultados Externos",icon:"IconUsers",component:e(o),props:{table:"resultadosCategorizacionExterna","icons-view":[],"show-search":!0}}],icons:["IconResponse","IconUsers"]}},{title:"Relación Empleados",icon:"IconUsers",component:e(o),props:{table:"relacionCategorizacionEmpleados","icons-view":[],"show-search":!0,"bar-actions":[{title:"Generar Categorización",emit:"generateCategorizacion",tooltip:"Generar Categorización para todos los empleados"}]}},{title:"Competencias",icon:"IconSettings",childs:[{title:"Categorias",icon:"IconSettings",component:e(o),props:{table:"configuracionCategorizacion","icons-view":[],"show-search":!1}},{title:"Educación",icon:"IconSettings",component:e(o),props:{table:"categorizacionEducacion","icons-view":[],"show-search":!1}},{title:"Formación",icon:"IconSettings",component:e(o),props:{table:"categorizacionFormacion","icons-view":[],"show-search":!1}},{title:"Experiencia",icon:"IconSettings",component:e(o),props:{table:"categorizacionExperiencia","icons-view":[],"show-search":!1}}]},{title:"Salarios Base",icon:"IconSettings",component:e(o),props:{table:"salariosBase","icons-view":[],"show-search":!1}},{title:"Reportes",icon:"IconDownload",component:e(l),props:{"icons-view":[],"type-form":"reportesCategorizacion","action-selected":"download_report_categorization","row-selected":null}}]),h=({eventName:n,payload:t})=>{if(r[n]){r[n](t);return}console.log(`No se encontró un manejador para el evento: ${n}`)},r={generateCategorizacion:n=>{console.log("Generar Categorización con payload:",n),z()}},z=async n=>{g.fire({position:"center",title:"¿Estás seguro?",text:"Esta acción generará una categorización para todos los empleados (Ingeniería, Dibujo, Cantidades de Obra, Protección Sísmica, Desarrollo de Software).",icon:"warning",showCancelButton:!0,cancelButtonColor:"gray",cancelButtonText:"Cancelar",showConfirmButton:!0,confirmButtonColor:"#EC7522",confirmButtonText:"Generar",timer:null,allowOutsideClick:!1,showCloseButton:!0}).then(async t=>{if(t.isConfirmed){a.value=!0;const s=await w();console.log("Respuesta de la generación de categorización:",s),s.status==="success"&&g.fire({title:"Categorización Generada",text:s.message,icon:"success",confirmButtonColor:"#EC7522"}),a.value=!1}t.isDismissed&&(console.log("Generación de categorización cancelada"),a.value=!1)})};return(n,t)=>(c(),b("main",null,[a.value?(c(),m(v,{key:0})):u("",!0),t[0]||(t[0]=d("div",{class:"wrapper flex items-center justify-center mb-10"},[d("h1",{class:"text-2xl text-identity-dark dark:text-gray-300"},"Categorización")],-1)),a.value?u("",!0):(c(),m(p,{key:1,tabs:C.value,icons:f.value,onDynamicEvent:h},null,8,["tabs","icons"]))]))}};export{j as default};
